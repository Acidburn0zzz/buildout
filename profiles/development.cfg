[buildout]
extends = base.cfg
parts +=
   pyzope
   test
   dependencies

extensions = buildout.dumppickedversions

[instance]
eggs +=
    Products.PDBDebugMode
    Products.PTProfiler

[pyflakes]
recipe = zc.recipe.egg
index = https://dist.infrae.com/thirdparty/
find-links = https://dist.infrae.com/thirdparty/
scripts =
   pyflakes
eggs =
   pyflakes
   setuptools
entry-points = pyflakes=pkg_resources:run_script
arguments = 'pyflakes', 'pyflakes'

[pyzope]
recipe = zc.recipe.egg
eggs =
   ${instance:eggs}
interpreter = pyzope
extra-paths = ${zope2:location}/lib/python
scripts =
   pyzope
   eggdeps

[silva-all]
recipe = collective.recipe.omelette
eggs = ${instance:eggs}

[test]
recipe = zc.recipe.testrunner
eggs =
    Products.Silva
    Products.SilvaDocument
    Products.SilvaLayout
    Products.SilvaExternalSources
    Products.SilvaFind
    silva.export.opendocument
extra-paths = ${zope2:location}/lib/python
defaults = ['-m', 'Products.Silva', '-m', 'silva', '--tests-pattern', '^f?tests$', '-v']

[dependencies]
recipe = z3c.recipe.depgraph
eggs = ${instance:eggs}

